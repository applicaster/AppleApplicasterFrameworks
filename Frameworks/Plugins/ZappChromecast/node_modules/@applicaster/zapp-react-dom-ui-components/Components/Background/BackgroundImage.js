// @flow
import * as React from "react";
import { fixColorHexCode } from "@applicaster/zapp-react-native-utils/stylesUtils";

type Props = {
  imageUrl: string,
  backgroundColor: string,
  children: React.ComponentType<any>,
};

const baseBackgroundStyles = (imageUrl, backgroundColor) => ({
  position: "absolute",
  left: 0,
  top: 0,
  right: 0,
  bottom: 0,
  zIndex: -1,
  backgroundSize: "cover",
  background: imageUrl ? `url(${imageUrl}) no-repeat top center` : backgroundColor,
});

export function BackgroundImage({
  imageUrl,
  backgroundColor,
  children,
}: Props) {
  const color = fixColorHexCode(backgroundColor);
  return (
    <div id="background" style={baseBackgroundStyles(imageUrl, color)}>
      {children}
    </div>
  );
}
