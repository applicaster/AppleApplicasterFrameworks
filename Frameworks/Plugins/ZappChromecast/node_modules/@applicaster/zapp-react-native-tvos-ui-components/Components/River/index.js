import { connectToStore } from "@applicaster/zapp-react-native-redux";
import * as R from "ramda";
import { withRiver } from "@applicaster/zapp-react-native-ui-components/Decorators/RiverResolver";
import { RiverComponent } from "./River";
import { ContainerContext, ScreenScrollingContext } from "../../Contexts";
import { LayoutContext } from "@applicaster/zapp-react-native-tvos-app/Context/LayoutContext";
import { withNavigator } from "@applicaster/zapp-react-native-ui-components/Decorators/Navigator";

const reduxConnector = connectToStore(R.pick(["rivers"]));

export const River = R.compose(
  reduxConnector,
  withRiver,
  withNavigator,
  ScreenScrollingContext.withProvider,
  ScreenScrollingContext.withConsumer,
  ContainerContext.withProvider,
  ContainerContext.withConsumer,
  LayoutContext.withConsumer
)(RiverComponent);
