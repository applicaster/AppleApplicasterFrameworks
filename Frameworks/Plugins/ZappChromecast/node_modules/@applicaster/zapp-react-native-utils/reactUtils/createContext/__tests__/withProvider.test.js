/* eslint-disable react/prop-types */
import * as React from "react";
import { shallow } from "enzyme";
import toJson from "enzyme-to-json";
import { View, Text } from "react-native";

import { createWithProviderDecorator } from "../withProvider";

describe("withProvider", () => {
  const Provider = ({ children }) => <View>{children}</View>;
  const withProvider = createWithProviderDecorator(Provider);

  it("decorates a component with the provider", () => {
    const Component = () => (
      <View>
        <Text>I am a Component</Text>
      </View>
    );
    const DecoratedComponent = withProvider(Component);

    const wrapper = shallow(<DecoratedComponent />);

    expect(toJson(wrapper)).toMatchSnapshot();
  });
});
