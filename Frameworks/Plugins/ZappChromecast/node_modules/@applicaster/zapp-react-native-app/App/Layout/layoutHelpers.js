import { resolveNavigationPlugin } from "@applicaster/zapp-react-native-utils/navigationUtils";

/**
 * Returns the module of the required navigation plugin for the requested category
 * and injects the initial matching navigation object.
 * @param {String} category Either "menu" or "nav_bar"
 * @param {Object} object   Usually a screen, containing a "navigation" object
 * @param {Object} plugins  Plugins list from store
 */
export function getNavigationPluginModule(category, { navigations }, plugins) {
  const plugin = resolveNavigationPlugin({
    category,
    navigations,
    plugins,
  });

  if (!plugin || !plugin.module) {
    throw new Error(
      `No plugin or plugin module found for requested navigation category: ${category}`
    );
  }

  return plugin.module;
}
