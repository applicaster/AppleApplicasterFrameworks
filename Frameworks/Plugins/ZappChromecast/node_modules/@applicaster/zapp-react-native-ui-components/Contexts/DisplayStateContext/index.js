import * as R from "ramda";
import { createContext } from "@applicaster/zapp-react-native-utils/reactUtils/createContext";

const DISPLAY_STATE_PROPERTY = "displayState";

export const DISPLAY_STATES = {
  DEFAULT: "DEFAULT",
  HUD: "HUD",
  PLAYER: "PLAYER",
};

const initialContext = { displayState: DISPLAY_STATES.DEFAULT };

const stateValidator = R.both(
  R.compose(
    R.equals(DISPLAY_STATE_PROPERTY),
    R.prop("property")
  ),
  R.compose(
    (R.includes || R.contains)(R.__, R.values(DISPLAY_STATES)),
    R.prop("value")
  )
);

export const DisplayStateContext = createContext(
  initialContext,
  stateValidator
);
