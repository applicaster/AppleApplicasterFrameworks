const { resolve } = require("path");
const { renderFile } = require("../../render");

async function createPluginEntryPoint(config) {
  const { cwd, entryPoint } = config;

  try {
    await renderFile(
      resolve(__dirname, "./export.js.ejs"),
      resolve(cwd, "export.js"),
      {
        entryPoint,
      }
    );
  } catch (e) {
    throw e;
  }
}

module.exports = { createPluginEntryPoint };
