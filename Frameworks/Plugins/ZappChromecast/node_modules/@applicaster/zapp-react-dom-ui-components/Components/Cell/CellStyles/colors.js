import * as R from "ramda";
import { fixColorHexCode } from "@applicaster/zapp-react-native-utils/stylesUtils";

export const ACTIVE_COLOR = "ACTIVE_COLOR";
export const BACKGROUND_COLOR = "BACKGROUND_COLOR";
export const MAIN_TEXT_COLOR = "MAIN_TEXT_COLOR";
export const FOCUSED_TEXT_COLOR = "FOCUSED_TEXT_COLOR";

const colorKeyPath = keyName => ["tv", keyName, "color"];

const COLORS = {
  [ACTIVE_COLOR]: {
    path: colorKeyPath("active"),
    default: "#FC461B",
  },
  [BACKGROUND_COLOR]: {
    path: colorKeyPath("background"),
    default: "#2F2F2F",
  },
  [MAIN_TEXT_COLOR]: {
    path: colorKeyPath("main_text"),
    default: "#EFEFEF",
  },
  [FOCUSED_TEXT_COLOR]: {
    path: colorKeyPath("focused_text_color"),
    default: "#FFFFFF",
  },
};

export const getColor = (name, styles) => {
  const colorKeyPath = R.path([name, "path"], COLORS);
  return (
    fixColorHexCode(R.path(colorKeyPath, styles)) ||
    R.path([name, "default"], COLORS)
  );
};
