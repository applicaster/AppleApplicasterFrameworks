// @flow
import * as React from "react";

import type {
  ZappComponent,
  ZappRivers,
} from "@applicaster/zapp-react-native-flow-types";

type Props = {
  rivers: ZappRivers,
  screenId: string,
};

export function withRiver(Component: ZappComponent): ZappComponent {
  const RiverWithData = ({ rivers, screenId, ...otherProps }: Props) => {
    const river = rivers[screenId];

    if (!river) {
      return null;
    }

    return <Component key={screenId} river={river} {...otherProps} />;
  };

  return RiverWithData;
}
