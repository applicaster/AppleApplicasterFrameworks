// @flow
import * as React from "react";

import { NativeRouter, useLocation, useHistory } from "react-router-native";

import { createQuickBrickApp } from "@applicaster/quick-brick-core";
import * as QuickBrickManager from "@applicaster/zapp-react-native-bridge/QuickBrick";

import { appLoader } from "./Loader";

import type {
  ZappScreenProps,
  ZappRivers,
} from "@applicaster/zapp-react-native-flow-types";

import { Layout } from "./Layout";

type Props = ZappScreenProps & ZappRivers;

export const ZappApp: React.ComponentType<Props> = createQuickBrickApp({
  navigations: {
    Router: NativeRouter,
    useLocation,
    useHistory,
  },
  QuickBrickManager,
  Layout,
  appLoader,
});
