const { resolve } = require("path");
const { writeJsonToFile } = require("../../file");

async function updatePackageJson(config) {
  const { cwd, name } = config;

  const packageJson = require(resolve(cwd, "package.json"));

  packageJson.name = name;
  packageJson.main = "./export.js";

  try {
    await writeJsonToFile(resolve(cwd, "package.json"), packageJson);
  } catch (e) {
    throw e;
  }
}

module.exports = { updatePackageJson };
