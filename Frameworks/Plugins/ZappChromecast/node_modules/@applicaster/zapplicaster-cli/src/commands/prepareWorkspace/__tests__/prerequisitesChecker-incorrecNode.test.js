const { prerequisitesChecker } = require("../prerequisitesChecker");
const R = require("ramda");

const args = {
  cliArgs: [],
  cliOptions: {},
};

const ramdaSpy = jest.spyOn(R, "isNil");
jest.mock("semver", () => ({ satisfies: () => false }));

describe("prerequisitesChecker", () => {
  describe("node version requirements are not satisfied", () => {
    it("throws when running on a invalid node version", () => {
      ramdaSpy.mockImplementation(() => false);
      expect(() => prerequisitesChecker(args)).toThrowErrorMatchingSnapshot();
    });
  });
});
