import { NativeModules } from "react-native";

// eslint-disable-next-line prefer-promise-reject-errors
const nullPromise = () => Promise.reject("Push Notification bridge is null");
const defaultPluginManager = {
  disablePlugin: nullPromise,
  disableAllPlugins: nullPromise,
  enablePlugin: nullPromise,
  enableAllPlugins: nullPromise,
};

const { PluginsManagerBridge = defaultPluginManager } = NativeModules;

export const pluginsManagerBridge = {
  /**
   * Disable plugin with specific identifier
   * @param  {String} tags Tags array to reginster
   */
  async disablePlugin(identifier) {
    try {
      return PluginsManagerBridge.disablePlugin(identifier);
    } catch (e) {
      throw e;
    }
  },

  /**
   * Disable all plugins for type
   * @param {String} tags Tags array to reginster
   */
  async disableAllPlugins(type) {
    try {
      return PluginsManagerBridge.disableAllPlugins(type);
    } catch (e) {
      throw e;
    }
  },

  /**
   * Enable plugin with specific identifier
   * @param {String} tags Tags array to reginster
   */
  async enablePlugin(identifier) {
    try {
      return PluginsManagerBridge.enablePlugin(identifier);
    } catch (e) {
      throw e;
    }
  },

  /**
   * Enable all plugins for type
   * @param {String} tags Tags array to reginster
   */
  async enableAllPlugins(type) {
    try {
      return PluginsManagerBridge.enableAllPlugins(type);
    } catch (e) {
      throw e;
    }
  },
};
