const { taskRunner } = require("../../taskRunner");

const { setUpVars } = require("./setUpVars");
const { setUpEnvironment } = require("./setUpEnvironment");

const initTask = {
  name: "init",
  startMessage: "We're configuring your applicaster environment",
  prerequisiteChecker: () => Promise.resolve(true),
  configurator: () => ({}),
  steps: [
    {
      start: "Setting up key variables",
      run: setUpVars,
      error: "Couldn't set up variables",
      completion: "All set !",
    },
    {
      start: "Setting up environment",
      run: setUpEnvironment,
      error: "could not set up environment",
      completion: "Environment set up !",
    },
  ],
};

module.exports = { init: taskRunner(initTask) };
