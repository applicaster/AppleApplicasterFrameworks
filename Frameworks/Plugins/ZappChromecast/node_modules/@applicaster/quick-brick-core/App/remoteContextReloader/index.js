import { attachLifeCycleMethods } from "@applicaster/zapp-react-native-utils/reactUtils";
import { getRemoteContextData } from "./getRemoteContextData";

export const remoteContextReloader = attachLifeCycleMethods({
  componentDidMount() {
    if (!__DEV__) {
      const {
        appSettings: { runtimeConfigurationUrls },
        plugins,
        dispatch,
      } = this.props;
      getRemoteContextData(dispatch, runtimeConfigurationUrls, plugins);
    }
  },
});
